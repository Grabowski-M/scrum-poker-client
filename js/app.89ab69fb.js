(function(t){function e(e){for(var o,i,a=e[0],s=e[1],u=e[2],d=0,m=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);l&&l(e);while(m.length)m.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],o=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(o=!1)}o&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},c=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0204":function(t,e,n){},"098d":function(t,e,n){},"16ff":function(t,e,n){},"1c7b":function(t,e,n){},"1e8b":function(t,e,n){"use strict";n("23d6")},"23d6":function(t,e,n){},"30db":function(t,e,n){},3901:function(t,e,n){},"3de5":function(t,e,n){"use strict";n("879c")},4595:function(t,e,n){},"460e":function(t,e,n){"use strict";n("8f6e")},"4d0c":function(t,e,n){},"50ce":function(t,e,n){"use strict";n("e764")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={key:0,class:"loader-wrapper"};function c(t,e,n,c,i,a){var s=Object(o["C"])("loader"),u=Object(o["C"])("router-view"),l=Object(o["C"])("styles-global"),d=Object(o["C"])("styles-reset"),m=Object(o["C"])("themer"),b=Object(o["C"])("room-service");return Object(o["u"])(),Object(o["e"])(b,null,{default:Object(o["I"])((function(){return[Object(o["j"])(m,null,{default:Object(o["I"])((function(){return[Object(o["j"])(d,null,{default:Object(o["I"])((function(){return[Object(o["j"])(l,null,{default:Object(o["I"])((function(){return[a.connecting?(Object(o["u"])(),Object(o["g"])("div",r,[Object(o["j"])(s)])):Object(o["f"])("",!0),a.connecting?Object(o["f"])("",!0):(Object(o["u"])(),Object(o["e"])(u,{key:1}))]})),_:1})]})),_:1})]})),_:1})]})),_:1})}Object(o["x"])("data-v-661d9528");var i={class:"themeToggle__wrapper"},a=Object(o["h"])("div",{class:"themeToggle__circle"},null,-1),s=[a];function u(t,e,n,r,c,a){return Object(o["u"])(),Object(o["g"])(o["a"],null,[Object(o["h"])("div",i,[Object(o["h"])("div",{onClick:e[0]||(e[0]=function(){return a.toggleTheme&&a.toggleTheme.apply(a,arguments)}),class:Object(o["p"])(["themeToggle",{light:"light"===c.theme,dark:"dark"===c.theme}])},s,2)]),Object(o["B"])(t.$slots,"default",{},void 0,!0)],64)}Object(o["v"])();var l={LIGHT:"light",DARK:"dark"},d={data:function(){return{theme:l.LIGHT}},methods:{toggleTheme:function(){var t=this.theme===l.LIGHT?l.DARK:l.LIGHT;this.setTheme(t)},setTheme:function(t){document.documentElement.className=t,localStorage.setItem("theme",t),this.theme=t}},beforeMount:function(){var t=localStorage.getItem("theme")||l.LIGHT;this.setTheme(t)}};n("f924"),n("c711");d.render=u,d.__scopeId="data-v-661d9528";var m=d;function b(t,e){return Object(o["B"])(t.$slots,"default")}n("460e");const h={};h.render=b;var f=h;function p(t,e){return Object(o["B"])(t.$slots,"default")}n("5a3b");const j={};j.render=p;var v=j;function O(t,e,n,r,c,i){return Object(o["B"])(t.$slots,"default")}n("d3b7");var g=n("8e27"),_=n.n(g),C={methods:{startKeepingHerokuAwake:function(){setInterval((function(){fetch("".concat("https://scrum-poker-backend.herokuapp.com","/health"))}),3e5)},connect:function(){var t=this;return new Promise((function(e,n){var o=_()("https://scrum-poker-backend.herokuapp.com");o.on("connect",(function(){t.startKeepingHerokuAwake(),e(o)})),o.on("disconnect",(function(){t.$store.dispatch("handleDisconnect"),n(new Error("Disconnected"))})),o.on("reconnect",(function(){e(o)})),o.on("STATE_CHANGE",(function(e){t.$store.dispatch("handleRoomStateChange",{roomState:e})})),o.on("SHOW_CARDS",(function(e){t.$store.dispatch("handleShowCards",{cards:e})}))}))},triggerConnection:function(){var t=this;this.connect().then((function(e){t.$store.dispatch("handleConnection",{connection:e})}))}},computed:{connection:function(){return this.$store.getters.connection}},watch:{connection:function(t){t||this.triggerConnection()}},created:function(){this.$store.getters.connection||this.triggerConnection()}};C.render=O;var k=C;Object(o["x"])("data-v-d78951f4");var w={class:"loader"},y=Object(o["h"])("p",null,"Connecting",-1),I=Object(o["h"])("div",{class:"dot"},null,-1),T=Object(o["h"])("div",{class:"dot"},null,-1),S=Object(o["h"])("div",{class:"dot"},null,-1),R=[y,I,T,S];function $(t,e){return Object(o["u"])(),Object(o["g"])("div",w,R)}Object(o["v"])();n("d155");const L={};L.render=$,L.__scopeId="data-v-d78951f4";var B=L,A={components:{Loader:B,RoomService:k,StylesGlobal:v,StylesReset:f,Themer:m},computed:{connecting:function(){return this.$store.getters.connecting}}};n("b335");A.render=c;var x=A,N=n("6c02"),M={class:"workspace__wrapper"},D={class:"workspace"};function P(t,e,n,r,c,i){var a=Object(o["C"])("Header"),s=Object(o["C"])("router-view");return Object(o["u"])(),Object(o["g"])(o["a"],null,[Object(o["j"])(a),Object(o["h"])("div",M,[Object(o["h"])("div",D,[Object(o["j"])(s)])])],64)}var V={class:"header"},E={class:"header__button"},H=Object(o["i"])(" Back ");function G(t,e,n,r,c,i){var a=Object(o["C"])("BaseIcon"),s=Object(o["C"])("router-link");return Object(o["u"])(),Object(o["g"])("div",V,[Object(o["h"])("p",E,["/"!==i.routePath?(Object(o["u"])(),Object(o["e"])(s,{key:0,to:"/"},{default:Object(o["I"])((function(){return[Object(o["j"])(a,{name:"arrowLeft","style-prop":"height: 1em; width: 1em; margin: -4px 8px 0 0;"}),H]})),_:1})):Object(o["f"])("",!0)])])}function F(t,e,n,r,c,i){return Object(o["u"])(),Object(o["e"])(Object(o["D"])(i.iconComponent),{style:Object(o["q"])(n.styleProp),role:"img",class:"inline-block fill-current"},null,8,["style"])}n("b0c0");var U={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},z=Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1),K=[z];function q(t,e){return Object(o["u"])(),Object(o["g"])("svg",U,K)}const J={};J.render=q;var W=J,Y={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Q=Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},null,-1),X=[Q];function Z(t,e){return Object(o["u"])(),Object(o["g"])("svg",Y,X)}const tt={};tt.render=Z;var et=tt,nt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ot=Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"},null,-1),rt=[ot];function ct(t,e){return Object(o["u"])(),Object(o["g"])("svg",nt,rt)}const it={};it.render=ct;var at=it,st={class:"svg-icon",style:{"vertical-align":"middle",overflow:"hidden"},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ut=Object(o["h"])("path",{d:"M896 708.757333v101.866667A106.538667 106.538667 0 0 1 789.418667 917.333333H234.581333A106.581333 106.581333 0 0 1 128 810.624v-101.866667l-82.858667-367.573333c-14.4-75.178667 47.317333-113.344 107.392-68.48l157.504 117.717333c7.722667 5.76 13.888 4.309333 18.133334-4.117333l116.394666-231.957333c31.914667-63.594667 102.976-63.530667 134.848 0l116.416 231.957333c4.266667 8.448 10.389333 9.877333 18.133334 4.117333l157.504-117.717333c60.074667-44.885333 121.813333-6.784 107.392 68.48L896 708.736zM204.8 661.333333h614.4l65.92-292.309333-120.106667 89.749333c-50.197333 37.525333-117.333333 21.824-145.450666-34.197333L512 210.24l-107.584 214.336c-28.074667 55.957333-95.232 71.722667-145.450667 34.197333l-120.064-89.728L204.778667 661.333333z m8.533333 149.290667A21.248 21.248 0 0 0 234.581333 832h554.837334A21.205333 21.205333 0 0 0 810.666667 810.624V746.666667H213.333333v63.957333z"},null,-1),lt=[ut];function dt(t,e){return Object(o["u"])(),Object(o["g"])("svg",st,lt)}const mt={};mt.render=dt;var bt=mt,ht={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ft=Object(o["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 11l7-7 7 7M5 19l7-7 7 7"},null,-1),pt=[ft];function jt(t,e){return Object(o["u"])(),Object(o["g"])("svg",ht,pt)}const vt={};vt.render=jt;var Ot=vt,gt={star:W,home:et,arrowLeft:at,crown:bt,doubleChevronUp:Ot},_t={props:{name:{type:String,required:!0,validator:function(t){return Object.prototype.hasOwnProperty.call(gt,t)}},styleProp:String},computed:{iconComponent:function(){return gt[this.name]}}};_t.render=F;var Ct=_t,kt={components:{BaseIcon:Ct},computed:{routePath:function(){return this.$route.fullPath}}};n("e8e5");kt.render=G;var wt=kt,yt={components:{Header:wt}};n("1e8b");yt.render=P;var It=yt,Tt={class:"joinRoom"},St={class:"joinRoom__form"},Rt=Object(o["h"])("h1",{class:"joinRoom__form__heading"},"Create or join room",-1),$t={class:"joinRoom__form__button__wrapper"},Lt=Object(o["i"])(" join ");function Bt(t,e,n,r,c,i){var a=Object(o["C"])("custom-input"),s=Object(o["C"])("custom-button"),u=Object(o["C"])("fade-in");return Object(o["u"])(),Object(o["e"])(u,null,{default:Object(o["I"])((function(){return[Object(o["h"])("div",Tt,[Object(o["h"])("div",St,[Rt,Object(o["h"])("form",null,[Object(o["j"])(a,{"class-name":"joinRoom__form__input",type:"text",modelValue:c.roomId,"onUpdate:modelValue":e[0]||(e[0]=function(t){return c.roomId=t}),placeholder:"room id","focus-on-load":!0},null,8,["modelValue"]),Object(o["j"])(a,{class:"joinRoom__form__input joinRoom__form__input--secondary",type:"text",modelValue:c.username,"onUpdate:modelValue":e[1]||(e[1]=function(t){return c.username=t}),placeholder:"username"},null,8,["modelValue"]),Object(o["h"])("div",$t,[Object(o["j"])(s,{disabled:!c.roomId||!c.username,type:"submit","on-click":i.joinRoom},{default:Object(o["I"])((function(){return[Lt]})),_:1},8,["disabled","on-click"])])])])])]})),_:1})}var At=n("ade3");Object(o["x"])("data-v-046e3dae");var xt=["disabled","type"];function Nt(t,e,n,r,c,i){var a;return Object(o["u"])(),Object(o["g"])("button",{class:Object(o["p"])(["customButton",(a={},Object(At["a"])(a,n.className,!!n.className),Object(At["a"])(a,"customButton--disabled",n.disabled),Object(At["a"])(a,"customButton--outlined","outlined"===n.customType&&!n.disabled),a)]),disabled:!!n.disabled,type:n.type,onClick:e[0]||(e[0]=function(){return n.onClick&&n.onClick.apply(n,arguments)})},[Object(o["B"])(t.$slots,"default",{},void 0,!0)],10,xt)}Object(o["v"])();var Mt={props:{className:String,disabled:Boolean,type:String,onClick:Function,customType:String}};n("71eb");Mt.render=Nt,Mt.__scopeId="data-v-046e3dae";var Dt=Mt;function Pt(t,e){return Object(o["u"])(),Object(o["e"])(o["b"],{name:"fade",appear:""},{default:Object(o["I"])((function(){return[Object(o["B"])(t.$slots,"default")]})),_:3})}n("b706");const Vt={};Vt.render=Pt;var Et=Vt,Ht=["disabled","type","placeholder","value"];function Gt(t,e,n,r,c,i){var a;return Object(o["u"])(),Object(o["g"])("input",{class:Object(o["p"])(["customInput",(a={},Object(At["a"])(a,n.className,!!n.className),Object(At["a"])(a,"customInput--disabled",n.disabled),a)]),disabled:n.disabled,type:n.type,placeholder:n.placeholder,value:n.modelValue,onInput:e[0]||(e[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),ref:"input"},null,42,Ht)}n("a9e3");var Ft={mounted:function(){this.focusOnLoad&&this.$refs.input.focus()},props:{className:String,disabled:Boolean,type:String,value:String||Number,placeholder:String||Number,ref:String,focusOnLoad:{type:Boolean,default:!1},modelValue:String},emits:["update:modelValue"]};n("981c");Ft.render=Gt;var Ut=Ft,zt={data:function(){return{roomId:"",password:"",username:""}},methods:{joinRoom:function(t){t.preventDefault(),this.$router.push("/room/".concat(this.roomId)),this.setUsername(this.username)},setUsername:function(t){localStorage.setItem("username",t),this.username=t}},components:{CustomInput:Ut,FadeIn:Et,CustomButton:Dt},beforeMount:function(){var t=localStorage.getItem("username");t&&(this.username=t),this.roomId=this.$route.query.roomId}};n("c11b");zt.render=Bt;var Kt=zt,qt={key:0,class:"pokerRoom"},Jt={class:"pokerRoom__layout"},Wt={class:"pokerRoom__pokerTable"},Yt={class:"pokerRoom__header"},Qt={key:0,class:"pokerRoom__control"},Xt=Object(o["i"])(" start voting "),Zt=Object(o["i"])(" show cards ");function te(t,e,n,r,c,i){var a=Object(o["C"])("custom-button"),s=Object(o["C"])("poker-board");return i.room?(Object(o["u"])(),Object(o["g"])("div",qt,[Object(o["h"])("div",Jt,[Object(o["h"])("div",Wt,[Object(o["h"])("h1",Yt,"Room #"+Object(o["F"])(i.room.roomId),1),i.isLeader?(Object(o["u"])(),Object(o["g"])("div",Qt,[Object(o["j"])(a,{"class-name":"pokerRoom__control__button","on-click":i.startVoting,"custom-type":"outlined",disabled:i.room.voting},{default:Object(o["I"])((function(){return[Xt]})),_:1},8,["on-click","disabled"]),Object(o["j"])(a,{"on-click":i.showCards,"custom-type":"outlined","class-name":"pokerRoom__control__button",disabled:!i.room.voting},{default:Object(o["I"])((function(){return[Zt]})),_:1},8,["on-click","disabled"])])):Object(o["f"])("",!0),Object(o["j"])(s,{room:i.room},null,8,["room"])])])])):Object(o["f"])("",!0)}var ee={class:"cards"},ne={class:"votes"},oe={class:"bottomSection"},re={class:"bottomSection__votingCards"},ce={class:"bottomSection__timer"};function ie(t,e,n,r,c,i){var a=this,s=Object(o["C"])("user-card"),u=Object(o["C"])("voting-card"),l=Object(o["C"])("timer");return Object(o["u"])(),Object(o["g"])("div",ee,[Object(o["h"])("div",ne,[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(i.participants,(function(t){return Object(o["u"])(),Object(o["e"])(s,{participantIsLeader:t.socketId===i.leaderId,"is-leader":i.isLeader,key:t.socketId,card:t.card,username:t.username,"voting-finished":!n.room.voting,"promote-to-leader":function(){return i.promoteToLeader(t.socketId)}},null,8,["participantIsLeader","is-leader","card","username","voting-finished","promote-to-leader"])})),128))]),Object(o["h"])("div",oe,[Object(o["h"])("div",re,[(Object(o["u"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(n.room.availableCards,(function(t){return Object(o["u"])(),Object(o["e"])(u,{changeActiveCard:i.changeActiveCard,key:t,value:t,disabled:!n.room.voting,active:t===a.activeCard},null,8,["changeActiveCard","value","disabled","active"])})),128))]),Object(o["h"])("div",ce,[Object(o["j"])(l)])])])}var ae=n("5530");n("d81d");function se(t,e,n,r,c,i){var a=this;return Object(o["u"])(),Object(o["g"])("div",{class:Object(o["p"])(["votingCard",{disabled:n.disabled,active:n.active}]),onClick:e[0]||(e[0]=function(){return a.changeActiveCard(n.value)})},Object(o["F"])(n.value),3)}var ue={props:{value:Number,disabled:Boolean,active:Boolean,changeActiveCard:Function}};n("50ce");ue.render=se;var le=ue,de={class:"userCard__vote"},me={class:"userCard__username"};function be(t,e,n,r,c,i){var a,s,u=Object(o["C"])("BaseIcon");return Object(o["u"])(),Object(o["g"])("div",{class:Object(o["p"])(["userCard",{high:null===(a=n.card)||void 0===a?void 0:a.high,low:null===(s=n.card)||void 0===s?void 0:s.low}])},[Object(o["h"])("div",de,Object(o["F"])(void 0===n.card?"?":n.card.value),1),Object(o["h"])("div",me,[Object(o["i"])(Object(o["F"])(n.username)+" ",1),Object(o["h"])("i",{onClick:e[0]||(e[0]=function(){return n.promoteToLeader()})},[!n.participantIsLeader&&n.isLeader?(Object(o["u"])(),Object(o["e"])(u,{key:0,name:"crown",class:"userCard__icon userCard__icon--promote"})):Object(o["f"])("",!0)]),n.participantIsLeader?(Object(o["u"])(),Object(o["e"])(u,{key:0,name:"crown",class:"userCard__icon userCard__icon--leader"})):Object(o["f"])("",!0)])],2)}var he={components:{BaseIcon:Ct},props:{card:Object,username:String,votingFinished:Boolean,participantIsLeader:Boolean,isLeader:Boolean,promoteToLeader:Function}};n("943c");he.render=be;var fe=he,pe={class:"timer"},je={key:1,class:"timer__buttons"},ve={class:"timer__buttons--row"},Oe={class:"timer__buttons--row"},ge={key:2,class:"timer__buttons"};function _e(t,e,n,r,c,i){return Object(o["u"])(),Object(o["g"])("div",pe,[i.isLeader||c.counter?(Object(o["u"])(),Object(o["g"])("div",{key:0,class:Object(o["p"])(["timer__counter",c.statusClassName])},Object(o["F"])(c.counter?c.timeToDisplay:"00:00"),3)):Object(o["f"])("",!0),i.isLeader?(Object(o["u"])(),Object(o["g"])("div",je,[Object(o["h"])("div",ve,[Object(o["h"])("button",{class:"button__time",onClick:e[0]||(e[0]=function(t){return i.submitTime(t,1)})},"1 min"),Object(o["h"])("button",{class:"button__time",onClick:e[1]||(e[1]=function(t){return i.submitTime(t,5)})},"5 min"),Object(o["h"])("button",{class:"button__time",onClick:e[2]||(e[2]=function(t){return i.submitTime(t,10)})},"10 min")]),Object(o["h"])("div",Oe,[Object(o["h"])("button",{class:"button__time",onClick:e[3]||(e[3]=function(t){return i.submitTime(t,15)})},"15 min"),Object(o["h"])("button",{class:"button__time",onClick:e[4]||(e[4]=function(t){return i.submitTime(t,20)})},"20 min"),Object(o["h"])("button",{class:"button__time",onClick:e[5]||(e[5]=function(){return i.resetTime&&i.resetTime.apply(i,arguments)})},"Reset")])])):(Object(o["u"])(),Object(o["g"])("div",ge," You need to be the room leader to start or reset the timer "))])}var Ce=n("5a0c"),ke=n.n(Ce),we=n("d772"),ye=n.n(we);ke.a.extend(ye.a);var Ie={data:function(){return{timeToDisplay:null,counter:null,statusClassName:""}},methods:{submitTime:function(t,e){t.preventDefault();var n=this.$store.getters.connection;this.statusClassName="",e?n.emit("TIMER_CHANGE",{time:e}):n.emit("TIMER_CHANGE",{time:this.time})},resetTime:function(t){t.preventDefault();var e=this.$store.getters.connection;e.emit("TIMER_CHANGE",{time:null}),this.stopCounting()},changePageTitle:function(t){document.title=t},startCounting:function(){var t=this;this.stopCounting();var e=function(){var e=ke()(t.targetTime),n=ke()(new Date),o=e.diff(n),r=o<18e4,c=o<6e4,i=Math.floor(o)<=0;r&&(t.statusClassName="warning"),c&&(t.statusClassName="danger"),i?t.stopCounting():(t.timeToDisplay=ke.a.duration(o).format("mm:ss"),t.changePageTitle("".concat(t.timeToDisplay," - Scrum poker")))};e(),this.counter=setInterval((function(){e()}),1e3)},stopCounting:function(){window.clearInterval(this.counter),this.changePageTitle("Scrum poker"),this.counter=null,this.timeToDisplay=null,this.statusClassName=""}},computed:{targetTime:function(){var t;return null===(t=this.$store.getters.roomState)||void 0===t?void 0:t.targetTime},isLeader:function(){return this.$store.getters.isLeader}},mounted:function(){var t=ke()(this.targetTime),e=ke()(new Date),n=t.diff(e),o=this.targetTime&&Math.floor(n)>0&&!this.counter;o&&this.startCounting()},watch:{targetTime:{handler:function(){this.targetTime&&!this.counter?this.startCounting():this.targetTime||this.stopCounting()}}}};n("3de5");Ie.render=_e;var Te=Ie,Se={data:function(){return{activeCard:null}},methods:{changeActiveCard:function(t){if(this.room.voting){var e=this.$store.getters.connection;e.emit("CARD_CHANGE",{card:t}),this.activeCard=t}},promoteToLeader:function(t){var e=this.$store.getters.connection;e.emit("PROMOTE_TO_LEADER",{participantId:t})}},computed:{isLeader:function(){return this.$store.getters.isLeader},leaderId:function(){return this.$store.getters.leaderId},cards:function(){return this.$store.getters.cards},participants:function(){var t=this,e=this.room.participants,n=void 0===e?[]:e;return n.map((function(e){return Object(ae["a"])(Object(ae["a"])({},e),{},{card:(t.$store.getters.cards||[])[e.socketId]})}))}},components:{UserCard:fe,VotingCard:le,Timer:Te},mounted:function(){var t=this,e=this.$store.getters.connection;e.on("RESET_CARDS",(function(){t.activeCard=null,t.$store.dispatch("handleResetCards")}))},props:["room"],watch:{cards:{handler:function(){null===this.cards&&(this.activeCard=null)}}}};n("e28b");Se.render=ie;var Re=Se,$e={data:function(){return{username:""}},methods:{startVoting:function(){var t=this.$store.getters.connection;this.$store.dispatch("handleResetCards"),t.emit("START_VOTING")},showCards:function(){var t=this.$store.getters.connection;t.emit("STOP_VOTING")}},computed:{room:function(){return this.$store.getters.roomState},isLeader:function(){return this.$store.getters.isLeader}},components:{CustomButton:Dt,PokerBoard:Re},beforeMount:function(){this.username=localStorage.getItem("username");var t=this.$route.params.id;this.username||this.$router.push("/?roomId=".concat(t))},mounted:function(){var t=this.$store.getters.connection,e=this.$route.params.id;t.emit("ROOM_CONNECT",{roomId:e,username:this.username})},beforeUnmount:function(){this.$store.dispatch("handleRoomStateReset")},watch:{room:function(t,e){if(e&&e.voting&&!t.voting){var n=new Audio("/notification.mp3");n.volume=.2,n.play()}}}};n("b8d6");$e.render=te;var Le=$e,Be=[{path:"/",name:"Workspace",component:It,children:[{path:"/",name:"Join room",component:Kt},{path:"room/:id",component:Le}]}],Ae=Object(N["a"])({history:Object(N["b"])("/"),routes:Be}),xe=Ae,Ne=n("5502"),Me={setRoomState:function(t,e){var n=e.roomState,o=e.context;t.isLeader=n.leader===o.getters.connection.id,t.room=e.roomState},resetRoomState:function(t){t.room=null},showCards:function(t,e){var n=e.cards;t.cards=n},startVoting:function(t){t.cards=null}},De={roomState:function(t){return t.room},isLeader:function(t){return t.isLeader},leaderId:function(t){return t.room.leader},cards:function(t){return t.cards}},Pe={handleRoomStateChange:function(t,e){var n=e.roomState;t.commit("setRoomState",{context:t,roomState:n})},handleRoomStateReset:function(t){var e=t.commit;e("resetRoomState")},handleShowCards:function(t,e){var n=t.commit,o=e.cards;n("showCards",{cards:o})},handleResetCards:function(t){var e=t.commit;e("startVoting")}},Ve={state:{isLeader:!1,room:null,cards:null},mutations:Me,getters:De,actions:Pe},Ee={setConnection:function(t,e){t.connection=e.connection,t.connecting=e.connecting}},He={connection:function(t){return t.connection},connecting:function(t){return t.connecting}},Ge={handleConnection:function(t,e){var n=t.commit,o=e.connection;n("setConnection",{connection:o,connecting:!1})},handleDisconnect:function(t){var e=t.commit;e("setConnection",{connection:null,connecting:!0})}},Fe={state:{connection:null,connecting:!0},mutations:Ee,getters:He,actions:Ge},Ue=Object(Ne["a"])({modules:{roomStore:Ve,connectionStore:Fe}});Object(o["d"])(x).use(xe).use(Ue).mount("#app")},"5a3b":function(t,e,n){"use strict";n("85c8")},"658e":function(t,e,n){},"71eb":function(t,e,n){"use strict";n("cd85")},"85c8":function(t,e,n){},"860e":function(t,e,n){},"879c":function(t,e,n){},"8f6e":function(t,e,n){},"943c":function(t,e,n){"use strict";n("860e")},"981c":function(t,e,n){"use strict";n("4d0c")},b335:function(t,e,n){"use strict";n("658e")},b706:function(t,e,n){"use strict";n("dc2a")},b8d6:function(t,e,n){"use strict";n("1c7b")},c11b:function(t,e,n){"use strict";n("098d")},c711:function(t,e,n){"use strict";n("4595")},cd85:function(t,e,n){},d155:function(t,e,n){"use strict";n("0204")},dc2a:function(t,e,n){},e28b:function(t,e,n){"use strict";n("3901")},e764:function(t,e,n){},e8e5:function(t,e,n){"use strict";n("30db")},f924:function(t,e,n){"use strict";n("16ff")}});
//# sourceMappingURL=app.89ab69fb.js.map